{
  "name": "xbee-api",
  "description": "Node.js communicates with XBee/ZigBee devices in API mode",
  "version": "0.3.2",
  "homepage": "https://github.com/jouz/xbee-api",
  "author": {
    "name": "Jan Kolkmeier",
    "email": "jankolkmeier@gmail.com",
    "url": "http://kolkmeier.com"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/jouz/xbee-api.git"
  },
  "bugs": {
    "url": "https://github.com/jouz/xbee-api/issues"
  },
  "licenses": [
    {
      "type": "MIT",
      "url": "https://github.com/jouz/xbee-api/blob/master/LICENSE-MIT"
    }
  ],
  "main": "lib/xbee-api",
  "engines": {
    "node": ">= 0.10.0"
  },
  "scripts": {
    "test": "grunt nodeunit"
  },
  "devDependencies": {
    "serialport": "~1.1.0",
    "grunt-contrib-jshint": "~0.6.0",
    "grunt-contrib-nodeunit": "~0.2.0",
    "grunt-contrib-watch": "~0.4.0",
    "grunt": "~0.4.1"
  },
  "keywords": [],
  "readme": "# xbee-api [![Build Status](https://secure.travis-ci.org/jouz/xbee-api.png?branch=master)](http://travis-ci.org/jouz/xbee-api)\r\n\r\n[Digi's xbee modules](http://www.digi.com/xbee) are good for quickly building low power wireless networks. They can be used to send/receive text data from serial ports of different devices. XBees can also be used alone for their on board digital and analog I/O capabilities.\r\n\r\n**xbee-api** helps you parsing and building API frames that are used to communicate with XBee modules. **xbee-api** does *not* take care of the serial connection itself, but it is easy to hook it up to modules such as [serialport](https://github.com/voodootikigod/node-serialport/).\r\n\r\nNote that higher-level abstraction as currently provided in [svd-xbee](https://github.com/jouz/svd-xbee/) is not part of this module anymore, but will be factored out to third modules (see [xbee-stream](https://github.com/jouz/xbee-stream/) and [xbee-stream-nodes](https://github.com/jouz/xbee-stream-nodes/), WiP).\r\n\r\n## GETTING STARTED\r\nInstall the module with: `npm install xbee-api`\r\n\r\n```javascript\r\nvar xbee_api = require('xbee-api');\r\nvar C = xbee_api.constants;\r\nvar xbeeAPI = new xbee_api.XBeeAPI();\r\n\r\n// Something we might want to send to an XBee...\r\nvar frame_obj = {\r\n  type: C.FRAME_TYPE.AT_COMMAND,\r\n  command: \"NI\",\r\n  commandParameter: [],\r\n};\r\nconsole.log(xbeeAPI.buildFrame(frame_obj));\r\n// <Buffer 7e 00 04 08 01 4e 49 5f>\r\n\r\n\r\n// Something we might receive from an XBee...\r\nvar raw_frame = new Buffer([\r\n\t0x7E, 0x00, 0x13, 0x97, 0x55, 0x00, 0x13, 0xA2, 0x00, 0x40, 0x52, 0x2B,\r\n\t0xAA, 0x7D, 0x84, 0x53, 0x4C, 0x00, 0x40, 0x52, 0x2B, 0xAA, 0xF0\r\n]);\r\n\r\nconsole.log(xbeeAPI.parseFrame(raw_frame));\r\n// { type: 151,\r\n//   id: 85,\r\n//   remote64: '0013a20040522baa',\r\n//   remote16: '7d84',\r\n//   command: 'SL',\r\n//   commandStatus: 0,\r\n//   commandData: [ 64, 82, 43, 170 ] }\r\n```\r\n\r\n**See the [Examples](#examples) section for more useful/practical examples!**\r\n\r\n## SUPPORTED XBEE MODELS\r\nBoth Series 1 (802.15.4) and Series 2 (ZNet 2.5 and ZigBee) modules are supported now. These documents are used as reference: [90000976_M.pdf (for Series 2)](http://ftp1.digi.com/support/documentation/90000976_M.pdf) and \r\n[90000982_M.pdf (for Series 1)](http://ftp1.digi.com/support/documentation/90000982_M.pdf). Some frame types are 802.15.4, ZNet or ZigBee specific. Be sure to use the correct ones for your module (as described in the documents and the list below). Also check out this [utility from Digi](http://ftp1.digi.com/support/utilities/digi_apiframes2.htm).\r\n\r\nModules must run in API mode. Both AP=1 and AP=2 modes are supported (set the api_mode parameter accordingly).\r\n\r\nSince ZigBee is more robust and offers more features than ZNet (none of which are yet implemented here, though!), you might be interested in upgrading your Series 2 modules from ZNet 2.5 to ZigBee: [upgradingfromznettozb.pdf](ftp://ftp1.digi.com/support/documentation/upgradingfromznettozb.pdf).  \r\n\r\n## SUPPORTED FRAME TYPES\r\nThe following frame types are implemented:\r\n\r\n- 0x00: TX (Transmit) Request: 64-bit address (802.15.4)\r\n- 0x01: TX (Transmit) Request: 16-bit address (802.15.4)\r\n- 0x08: AT Command (802.15.4, ZNet, ZigBee)\r\n- 0x09: AT Command Queue Parameter Value (802.15.4, ZNet, ZigBee)\r\n- 0x17: Remote Command Request (802.15.4, ZNet, ZigBee)\r\n- 0x80: RX (Receive) Packet: 64-bit Address (802.15.4)\r\n- 0x81: RX (Receive) Packet: 16-bit Address (802.15.4)\r\n- 0x82: RX (Receive) Packet: 64-bit Address IO (802.15.4)\r\n- 0x83: RX (Receive) Packet: 16-bit Address IO (802.15.4)\r\n- 0x88: AT Command Response (802.15.4, ZNet, ZigBee)\r\n- 0x89: TX (Transmit) Status (802.15.4)\r\n- 0x8A: Modem Status (802.15.4, ZNet, ZigBee)\r\n- 0x97: Remote Command Response (802.15.4, ZNet, ZigBee)\r\n- 0x10: ZigBee Transmit Request (ZNet, ZigBee)\r\n- 0x11: Explicit Addressing ZigBee Command Frame (ZNet, ZigBee)\r\n- 0x8B: ZigBee Transmit Status (ZNet, ZigBee)\r\n- 0x90: ZigBee Receive Packet (AO=0) (ZNet, ZigBee)\r\n- 0x91: ZigBee Explicit Rx Indicator (AO=1) (ZNet, ZigBee)\r\n- 0x92: ZigBee IO Data Sample Rx Indicator (ZNet, ZigBee)\r\n- 0x94: XBee Sensor Read Indicator (AO=0) (ZNet, ZigBee)\r\n- 0x95: Node Identification Indicator (AO=0) (ZNet, ZigBee)\r\n\r\n### NOT IMPLEMENTED YET\r\nThese (more esoteric) frame types have not been implemented yet, [Open a new issue](https://github.com/jouz/xbee-api/issues/new) if you need something in particular: \r\n\r\n- 0x21: Create Source Route (ZigBee)\r\n- 0x24: Register Joining Device (ZigBee)\r\n- 0xA0: Over-the-Air Firmware Update Status (ZigBee)\r\n- 0xA1: Route Record Indicator (ZigBee)\r\n- 0xA2: Device Authenticated Indicator (ZigBee)\r\n- 0xA3: Many-to-One Route Request Indicator (ZigBee)\r\n- 0xA4: Register Joining Device Status (ZigBee)\r\n- 0xA5: Join Notification Status (ZigBee)\r\n\r\n## DOCUMENTATION\r\n\r\n### THE XBeeAPI CLASS\r\n\r\nTo get an instance `xbeeAPI` of the `XBeeAPI` class:\r\n```javascript\r\nvar xbee_api = require('xbee-api');\r\nvar xbeeAPI = new xbee_api.XBeeAPI({\r\n    // default options:\r\n    api_mode: 1,      // [1, 2]; 1 is default, 2 is with escaping (set ATAP=2)\r\n    module: \"Any\",    // [\"802.15.4\", \"ZNet\", \"ZigBee\", \"Any\"]; This does nothing, yet!\r\n    raw_frames: false // [true, false]; If set to true, only raw byte frames are\r\n                      // emitted (after validation) but not parsed to objects. \r\n});\r\n```\r\nIn the following a documentation of all class methods.\r\n\r\n#### xbeeAPI.buildFrame(frame)\r\nReturns an API frame (buffer) created from the passed frame object. See ***Creating frames from objects to write to the XBee*** for details on how these passed objects are specified.\r\n\r\n#### xbeeAPI.parseFrame(buffer)\r\nParses and returns a frame object from the buffer passed. Note that the buffer must be a complete frame, starting with the start byte and ending with the checksum byte. See ***Objects created from received API Frames*** for details on how the retured objects are specified.\r\n\r\n#### xbeeAPI.rawParser()\r\nReturns a parser function with the profile `function(emitter, buffer) {}`. This can be passed to a serial reader such as serialport. Note that XBeeAPI will not use the emitter to emit a parsed frame, but it's own emitter (see Event: 'frame_object').\r\n\r\n#### xbeeAPI.parseRaw(buffer)\r\nParses data in the buffer, assumes it is comming directly from the XBee. If a complete frame is collected, it is emitted as Event: 'frame_object'.\r\n\r\n#### Event: 'frame_object'\r\nIs emitted whenever a complete frame is collected and parsed.\r\n\r\n#### xbeeAPI.nextFrameId()\r\nIncrements the internal `frameId` counter and returns it. Useful for building requests where we want to identify the respective response frame later on.\r\n\r\n### CREATING FRAMES FROM OBJECTS TO WRITE TO THE XBEE\r\nThere are four basic requests we can make to the XBee of which two are essentially the same. We can make (queued) command requests (0x08 and 0x09) and *remote* command request (0x17). These all behave pretty much the same as writing AT commands in AT mode. Lastly, there are transmit requests which can be used to send your own data to other devices (0x10, 0x00, 0x01 - depending on your firmware).\r\n\r\nNote that many parameters have default values. For example, `destination16/64` default to their unknown/broadcast values. For non-single-byte parameters, you can choose to pass a string (`\"fffe\"`) or a byte array (`[0xff, 0xfe]`). We'd expect the latter to be slightly faster (but no benchmarks have been made).\r\n\r\n#### 0x08: AT Command (802.15.4, ZNet, ZigBee)\r\n```javascript\r\n{\r\n\ttype: 0x08, // xbee_api.constants.FRAME_TYPE.AT_COMMAND\r\n\tid: 0x52, // optional, nextFrameId() is called per default\r\n\tcommand: \"NJ\",\r\n\tcommandParameter: [],\r\n}\r\n```\r\nExecute the AT command set in `command`, optionally set a `comandParameter` value. An empty parameter usually queries the AT parameter value.\r\n\r\n#### 0x09: AT Command Queue Parameter Value (802.15.4, ZNet, ZigBee)\r\n```javascript\r\n{\r\n\ttype: 0x09, // xbee_api.constants.FRAME_TYPE.AT_COMMAND_QUEUE_PARAMETER_VALUE\r\n\tid: 0x01, // optional, nextFrameId() is called per default\r\n\tcommand: \"BD\",\r\n\tcommandParameter: [ 0x07 ]\r\n}\r\n```\r\nPretty much the same as AT Command Requests, except that the commands are queued and applied at once when either an `AC` command is queued or a regular AT command request is sent.\r\n\r\n#### 0x17: Remote Command Request (802.15.4, ZNet, ZigBee)\r\n```javascript\r\n{\r\n\ttype: 0x17, // xbee_api.constants.FRAME_TYPE.REMOTE_AT_COMMAND_REQUEST\r\n\tid: 0x01, // optional, nextFrameId() is called per default\r\n\tdestination64: \"0013a20040401122\",\r\n\tdestination16: \"fffe\", // optional, \"fffe\" is default\r\n\tremoteCommandOptions: 0x02, // optional, 0x02 is default\r\n\tcommand: \"BH\",\r\n\tcommandParameter: [ 0x01 ] // Can either be string or byte array.\r\n}\r\n```\r\nBehaves just as AT Command Requests, with additional `destination64/16` parameters set to the remote node on which the AT command is to be executed.\r\n\r\n#### 0x10: ZigBee Transmit Request (ZNet, ZigBee)\r\n```javascript\r\n{\r\n\ttype: 0x10, // xbee_api.constants.FRAME_TYPE.ZIGBEE_TRANSMIT_REQUEST\r\n\tid: 0x01, // optional, nextFrameId() is called per default\r\n\tdestination64: \"0013a200400a0127\",\r\n\tdestination16: \"fffe\", // optional, \"fffe\" is default\r\n\tbroadcastRadius: 0x00, // optional, 0x00 is default\r\n\toptions: 0x00, // optional, 0x00 is default\r\n\tdata: \"TxData0A\" // Can either be string or byte array.\r\n}\r\n```\r\nTransmit your own `data` to a remote node.\r\n\r\n\r\n#### 0x00: TX (Transmit) Request: 64-bit address (802.15.4)\r\n```javascript\r\n{\r\n\ttype: 0x00, // xbee_api.constants.FRAME_TYPE.TX_REQUEST_64 \r\n\tid: 0x01, // optional, nextFrameId() is called per default\r\n\tdestination64: \"0013a200400a0127\",\r\n\toptions: 0x00, // optional, 0x00 is default\r\n\tdata: \"TxData0A\" // Can either be string or byte array.\r\n}\r\n```\r\nTransmit your own `data` to a remote node using a 64 bit address. This is for Series 1 / 802.15.4 modules only!\r\n\r\n#### 0x01: TX (Transmit) Request: 16-bit address (802.15.4)\r\n```javascript\r\n{\r\n\ttype: 0x01, // xbee_api.constants.FRAME_TYPE.TX_REQUEST_16 \r\n\tid: 0x01, // optional, nextFrameId() is called per default\r\n\tdestination16: \"ab00\",\r\n\toptions: 0x00, // optional, 0x00 is default\r\n\tdata: \"TxData0A\" // Can either be string or byte array.\r\n}\r\n```\r\nTransmit your own `data` to a remote node using a 16 bit address. This is for Series 1 / 802.15.4 modules only!\r\n\r\n#### 0x11: Explicit Addressing ZigBee Command Frame (ZNet, ZigBee)\r\n```javascript\r\n{\r\n    type: 0x10, // xbee_api.constants.FRAME_TYPE.ZIGBEE_TRANSMIT_REQUEST\r\n    id: 0x01, // optional, nextFrameId() is called per default\r\n    destination64: \"0013a200400a0127\", // default is broadcast address\r\n    destination16: \"fffe\", // default is \"fffe\" (unknown/broadcast)\r\n    sourceEndpoint: 0xA0,\r\n    destinationEndpoint: 0xA1,\r\n    clusterId: \"1554\",\r\n    profileId: \"C105\",\r\n    broadcastRadius: 0x00, // optional, 0x00 is default\r\n    options: 0x00, // optional, 0x00 is default\r\n    data: \"TxData0A\" // Can either be string or byte array.\r\n}\r\n```\r\nAllows ZigBee application layer fields (endpoint and cluster ID) to be specified for a data transmission. Similar to the ZigBee Transmit Request, but also requires ZigBee application layer addressing fields to be specified (endpoints, cluster ID, profile ID). An Explicit Addressing Request API frame causes the module to send data as an RF packet to the specified destination, using the specified source and destination endpoints, cluster ID, and profile ID.\r\n\r\n### OBJECTS CREATED FORM RECEIVED API FRAMES\r\nObjects created from API frames that the XBee would recieve contain a `type` property that identifies the frame type. If the frame is a response to a query made earlier, the `id` that was used for that request is also included.\r\n\r\n#### 0x88: AT Command Response (802.15.4, ZNet, ZigBee)\r\n```javascript\r\n{\r\n\ttype: 0x88, // xbee_api.constants.FRAME_TYPE.AT_COMMAND_RESPONSE \r\n\tid: 0x01,\r\n\tcommand: \"BD\",\r\n\tcommandStatus: 0x00,\r\n\tcommandData: []\r\n}\r\n```\r\nThis is a response to a AT command request, for example to query or change an AT parameter value on the XBee module. The command was, in this case, setting the `BD` parameter of module. The command status `0` means `OK` (see [Constants](#constants) for more), which means that the baud rate was changed successfully. \r\n\r\n#### 0x97: Remote Command Response (802.15.4, ZNet, ZigBee)\r\n```javascript\r\n{\r\n\ttype: 0x97, // xbee_api.constants.FRAME_TYPE.REMOTE_COMMAND_RESPONSE \r\n\tid: 0x01,\r\n\tremote64: \"0013a20040522baa\",\r\n\tremote16: \"7d84\",\r\n\tcommand: \"SL\",\r\n\tcommandStatus: 0x00,\r\n\tcommandData: [ 0x40, 0x52, 0x2b, 0xaa ]\r\n}\r\n```\r\nThis is a response to a *remote* AT command request, for example to query or change an AT parameter value on another device in the network. This seems to be a response from the node with the address `0013a20040522baa`. The requested command was, in this case, `SL`. The command status `0` means `OK`.\r\n\r\n\r\n#### 0x8B: ZigBee Transmit Status (ZNet, ZigBee)\r\n```javascript\r\n{\r\n\ttype: 0x8B, // xbee_api.constants.FRAME_TYPE.ZIGBEE_TRANSMIT_STATUS \r\n\tid: 0x01,\r\n\tremote16: \"7d84\",\r\n\ttransmitRetryCount: 0,\r\n\tdeliveryStatus: 0,\r\n\tdiscoveryStatus: 1\r\n}\r\n```\r\nThis status is received after sending out a transmit request to the XBee (i.e. to send some text data to another module). The status contains the 16bit network address `remote16`, the number of transmission retries, information about whether delivery was successful and about any discoveries made.\r\n\r\n#### 0x8A: Modem Status (802.15.4, ZNet, ZigBee)\r\n```javascript\r\n{\r\n\ttype: 0x8a, // xbee_api.constants.FRAME_TYPE.MODEM_STATUS \r\n\tmodemStatus: 0x06\r\n}\r\n```\r\nThese statuses give information about the general operation of the XBee. See the [Constants](#constants) section for more.\r\n\r\n#### 0x90: ZigBee Receive Packet (AO=0) (ZNet, ZigBee)\r\n```javascript\r\n{\r\n\ttype: 0x90, // xbee_api.constants.FRAME_TYPE.ZIGBEE_RECEIVE_PACKET \r\n\tremote64: \"0013a20040522baa\",\r\n\tremote16: \"7d84\",\r\n\treceiveOptions: 0x01,\r\n\tdata: [ 0x52, 0x78, 0x44, 0x61, 0x74, 0x61 ]\r\n}\r\n```\r\nThis frame contains general data (such as text data) received from remote nodes.\r\n\r\n#### 0x91: ZigBee Explicit Rx Indicator (AO=1) (ZNet, ZigBee)\r\nSee *0x90: ZigBee Receive Packet (AO=0) (ZNet, ZigBee)* above.\r\n\r\n#### 0x92: ZigBee IO Data Sample Rx Indicator (ZNet, ZigBee)\r\n```javascript\r\n{\r\n\ttype: 0x92, // xbee_api.constants.FRAME_TYPE.ZIGBEE_IO_DATA_SAMPLE_RX \r\n\tremote64: \"0013a20040522baa\",\r\n\tremote16: \"7d84\",\r\n\treceiveOptions: 0x01,\r\n\tnumSamples: 1,\r\n\tdigitalSamples: {\r\n\t\t\"DIO2\": 1,\r\n\t\t\"DIO3\": 0,\r\n\t\t\"DIO4\": 1\r\n\t},\r\n\tanalogSamples: {\r\n\t\t\"AD1\": 644\r\n\t}\r\n}\r\n```\r\nAn I/O data sample that contains information about the state of the digital and analog I/O pins that are set to sample data. Here, pins `DIO2` & `DIO4` read `HIGH`, `DIO3` reads `LOW`, and `AD1` samples an analog voltage of `644mV`.\r\n\r\n#### 0x94: XBee Sensor Read Indicator (AO=0) (ZNet, ZigBee)\r\n```javascript\r\n{\r\n    type: 0x94, // xbee_api.constants.FRAME_TYPE.XBEE_SENSOR_READ \r\n    remote64: \"0013a20040522baa\",\r\n    remote16: \"7d84\",\r\n    sensors: 0x03,\r\n    receiveOptions: 0x01,\r\n    sensorValues: {\r\n      AD0:   40, // A/D values in mV\r\n      AD1: 4120,\r\n      AD2: 4680,\r\n      AD3: 1640,\r\n      T: 362,\r\n      temperature: 22.625,     // in Â°C, undefined if no temp sens\r\n      relativeHumidity: 30.71, // in %, undefined if no hum sens\r\n      trueHumidity: 30.54,     // in %, undefined if not both temp & hum\r\n      waterPresent: false\r\n    }\r\n}\r\n```\r\nWhen the module receives a sensor sample (from a Digi 1-wire sensor adapter).\r\n\r\n#### 0x95: Node Identification Indicator (AO=0) (ZNet, ZigBee)\r\n```javascript\r\n{\r\n\ttype: 0x95, // xbee_api.constants.FRAME_TYPE.NODE_IDENTIFICATION\r\n\tsender64: \"0013a20040522baa\"\r\n\tsender16: \"7d84\"\r\n\treceiveOptions: 0x02\r\n\tremote64: \"0013a20040522baa\"\r\n\tremote16:\"7d84\"\r\n\tnodeIdentifier: \"MY_ROUTER\",\r\n\tremoteParent16: \"fffe\",\r\n\tdeviceType: 0x01,\r\n\tsourceEvent: 0x01\r\n}\r\n```\r\nModules with the `JN` (Join Notification) parameter enabled will transmit a broadcast Node Identification Indicator packet on power up and when joining. This can also be sent when the D0 button is pressed. Which of these events occurred is set in the `sourceEvent` property. `sender64/16` here is the one from who the packet was received, whereas `remote64/16` is the identified node itself (may be the same).\r\n\r\n#### 0x80: RX (Receive) Packet: 64-bit Address (802.15.4)\r\n```javascript\r\n{\r\n\ttype: 0x80, // xbee_api.constants.FRAME_TYPE.RX_PACKET_64 \r\n\tremote64: \"0013a20040522baa\",\r\n\trssi: 0x3f\r\n\treceiveOptions: 0x01,\r\n\tdata: [ 0x52, 0x78, 0x44, 0x61, 0x74, 0x61 ]\r\n}\r\n```\r\nThis frame contains general data (such as text data) received from remote nodes(64 bit address). This is received only from Series 1 / 802.15.4 hardware.\r\n\r\n#### 0x81: RX (Receive) Packet: 16-bit Address (802.15.4)\r\n```javascript\r\n{\r\n\ttype: 0x81, // xbee_api.constants.FRAME_TYPE.RX_PACKET_16 \r\n\tremote64: \"522b\",\r\n\trssi: 0x3f\r\n\treceiveOptions: 0x01,\r\n\tdata: [ 0x52, 0x78, 0x44, 0x61, 0x74, 0x61 ]\r\n}\r\n```\r\nThis frame contains general data (such as text data) received from remote nodes(16 bit address). This is received only from Series 1 / 802.15.4 hardware.\r\n\r\n#### 0x82: RX (Receive) Packet: 64-bit Address IO (802.15.4)\r\n```javascript\r\n{\r\n\ttype: 0x82, // xbee_api.constants.FRAME_TYPE.RX_PACKET_64_IO \r\n\tremote64: \"0013a20040522baa\",\r\n\trssi: 0x3f\r\n\treceiveOptions: 0x01,\r\n\tdata: [ 0x52, 0x78, 0x44, 0x61, 0x74, 0x61 ]\r\n}\r\n```\r\nThis frame contains I/O data received from remote nodes (64 bit address). This is received only from Series 1 / 802.15.4 hardware.\r\n\r\n#### 0x83: RX (Receive) Packet: 16-bit Address IO (802.15.4)\r\n```javascript\r\n{\r\n\ttype: 0x83, // xbee_api.constants.FRAME_TYPE.RX_PACKET_16_IO \r\n\tremote64: \"522b\",\r\n\trssi: 0x3f\r\n\treceiveOptions: 0x01,\r\n\tdata: [ 0x52, 0x78, 0x44, 0x61, 0x74, 0x61 ]\r\n}\r\n```\r\nThis frame contains I/O data received from remote nodes (16 bit address). This is received only from Series 1 / 802.15.4 hardware.\r\n\r\n#### 0x89: TX (Transmit) Status (802.15.4)\r\n```javascript\r\n{\r\n\ttype: 0x89, // xbee_api.constants.FRAME_TYPE.TX_STATUS \r\n\tid: 0x01,\r\n\tdeliveryStatus: 0\r\n}\r\n```\r\nWhen a TX Request is completed, the module sends a TX Status message. This message will indicate if the packet was transmitted successfully or if there was a failure (`deliveryStatus`).\r\n\r\n### CONSTANTS\r\nYou don't have to remember the hex-numbers of the frame types, command options, status types, etc. Everything is defined in two-way constants. See the examples below:\r\n\r\n```javascript\r\nvar xbee_api = require('xbee-api');\r\nvar C = xbee_api.constants;\r\n\r\n// Frame types (frame.type):\r\nC.FRAME_TYPE.ZIGBEE_TRANSMIT_REQUEST; // 0x10\r\nC.FRAME_TYPE[0x10] // \"ZigBee Transmit Request (0x10)\";\r\n\r\n// Command Status (frame.commandStatus)\r\nC.COMMAND_STATUS.ERROR; // 0x01\r\nC.COMMAND_STATUS[0x01]; // \"(Error (0x01)\"\r\n\r\n// Discovery Status (frame.discoveryStatus)\r\nC.DISCOVERY_STATUS.ADDRESS_DISCOVERY // 0x01\r\nC.DISCOVERY_STATUS[0x01] // \"Address Discovery (0x01)\"\r\n\r\n// Delivery Status (frame.deliveryStatus)\r\nC.DELIVERY_STATUS.ADDRESS_NOT_FOUND // 0x24\r\nC.DELIVERY_STATUS[0x24] // \"Address Not Found (0x24)\"\r\n\r\n// Modem Status (frame.modemStatus)\r\nC.MODEM_STATUS.JOINED_NETWORK // 0x02\r\nC.MODEM_STATUS[0x02] // \"Joined Network (0x02)\"\r\n\r\n// Receive Options (frame.receiveOptions)\r\nC.RECEIVE_OPTIONS.PACKET_ACKNOWLEDGED // 0x01;\r\nC.RECEIVE_OPTIONS[0x01] // \"Packet Acknowledged (0x01)\"\r\n\r\n// Device Type (frame.deviceType)\r\nC.DEVICE_TYPE.END_DEVICE // 0x02\r\nC.DEVICE_TYPE[0x02] // \"End Device (0x02)\"\r\n```\r\n\r\nPlease refer to `lib/constants.js` for a complete list, and the module documentation [here](http://ftp1.digi.com/support/documentation/90000976_M.pdf \"http://ftp1.digi.com/support/documentation/90000976_M.pdf\") for more explanation.\r\n\r\n## EXAMPLES\r\nTo combine with [serialport](https://github.com/voodootikigod/node-serialport/), we use the rawParser(). Make sure to set your baudrate, AP mode and COM port. \r\n```javascript\r\nvar util = require('util');\r\nvar SerialPort = require('serialport').SerialPort;\r\nvar xbee_api = require('xbee-api.js');\r\n\r\nvar C = xbee_api.constants;\r\n\r\nvar xbeeAPI = new xbee_api.XBeeAPI({\r\n  api_mode: 1\r\n});\r\n\r\nvar serialport = new SerialPort(\"COM19\", {\r\n  baudrate: 57600,\r\n  parser: xbeeAPI.rawParser()\r\n});\r\n\r\nserialport.on(\"open\", function() {\r\n  var frame_obj = { // AT Request to be sent to \r\n    type: C.FRAME_TYPE.AT_COMMAND,\r\n    command: \"NI\",\r\n    commandParameter: [],\r\n  };\r\n\r\n  serialport.write(xbeeAPI.buildFrame(frame_obj));\r\n});\r\n\r\n// All frames parsed by the XBee will be emitted here\r\nxbeeAPI.on(\"frame_object\", function(frame) {\r\n\tconsole.log(\">>\", frame);\r\n});\r\n```\r\n\r\nTo link a received frame object to a request we earlier sent, we have to set and remember the `frame.id` of our request. Then, when a new frame object is emitted, we could look it up and route the response back.\r\n\r\n```javascript\r\n\r\nvar frameId = xbee.nextFrameId();\r\nvar frame_obj = {\r\n\ttype: C.FRAME_TYPE.AT_COMMAND,\r\n\tid: frameId,\r\n\tcommand: \"NI\",\r\n\tcommandParameter: []\r\n};\r\n\r\nserialport.write(xbeeAPI.buildFrame(frame_obj));\r\n\r\n// All frames parsed by the XBee will be emitted here\r\nxbeeAPI.on(\"frame_object\", function(frame) {\r\n\tif (frame.id == frameId &&\r\n\t    frame.type == C.FRAME_TYPE.AT_COMMAND_RESPONSE) {\r\n\t\t// This frame is definitely the response!\r\n\t\tconsole.log(\"Node identifier:\",\r\n\t\t\tString.fromCharCode(frame.commandData));\r\n\t} else {\r\n\t\t// This is some other frame\r\n\t}\r\n});\r\n```\r\n\r\nSee the [examples folder](https://github.com/jouz/xbee-api/tree/master/examples) in the repository for more examples.\r\n\r\n## CONTRIBUTE\r\nFeel free to send a pull request. There are nodeunit test in the `test/` folder (clone; run `npm install`; run `grunt nodeunit`).\r\n\r\n## LICENSE\r\nCopyright (c) 2013 Jan Kolkmeier  \r\nLicensed under the MIT license.\r\n",
  "readmeFilename": "README.md",
  "_id": "xbee-api@0.3.2",
  "_from": "xbee-api@"
}
